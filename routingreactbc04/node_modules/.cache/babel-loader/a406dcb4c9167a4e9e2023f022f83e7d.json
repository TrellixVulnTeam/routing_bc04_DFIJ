{"ast":null,"code":"import axios from \"axios\";\nimport { history } from \"../../App\";\nimport { USER_LOGIN } from \"../../util/setting\";\nexport const dangNhapAction = userLogin => {\n  //{taiKhoan:'',matKhau:''}\n  return async dispatch => {\n    try {\n      console.log(userLogin);\n      const result = await axios({\n        url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/DangNhap',\n        method: 'POST',\n        data: userLogin\n      });\n      console.log('result', result);\n      dispatch({\n        type: 'XU_LY_DANG_NHAP_THANH_CONG',\n        tenDangNhap: result.data.taiKhoan\n      });\n      localStorage.setItem(USER_LOGIN, JSON.stringify(result.data));\n      localStorage.setItem(ACCESSTOKEN, result.data);\n      alert(\"đăng nhập thành công\");\n      history.push(\"/home\");\n    } catch (errors) {\n      var _errors$response;\n\n      console.log('errors', (_errors$response = errors.response) === null || _errors$response === void 0 ? void 0 : _errors$response.data); //?: optional chaining\n    }\n  };\n};\nexport const datVe = thongTinDatVe => {\n  // {\n  //     \"maLichChieu\": 0,\n  //     \"danhSachVe\": [\n  //       {\n  //         \"maGhe\": 0,\n  //         \"giaVe\": 0\n  //       }\n  //     ],\n  //     \"taiKhoanNguoiDung\": \"string\"\n  //   }\n  return async dispatch => () => {\n    try {\n      let result = axios({\n        url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/DatVe',\n        method: 'post',\n        data: thongTinDatVe,\n        headers: {\n          'Authorazition': 'Bearer' + localStorage.getItem(ACCESSTOKEN)\n        }\n      });\n      console.log(result.data);\n    } catch (errors) {}\n  };\n};","map":{"version":3,"sources":["/Users/dexter633/Desktop/ROUTINGREACTB04/routingreactbc04/src/redux/actions/NguoiDungActions.js"],"names":["axios","history","USER_LOGIN","dangNhapAction","userLogin","dispatch","console","log","result","url","method","data","type","tenDangNhap","taiKhoan","localStorage","setItem","JSON","stringify","ACCESSTOKEN","alert","push","errors","response","datVe","thongTinDatVe","headers","getItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,UAAT,QAA2B,oBAA3B;AAIA,OAAO,MAAMC,cAAc,GAAIC,SAAD,IAAe;AAAC;AAC1C,SAAO,MAAOC,QAAP,IAAoB;AACvB,QAAI;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AACA,YAAMI,MAAM,GAAG,MAAMR,KAAK,CAAC;AACvBS,QAAAA,GAAG,EAAE,iEADkB;AAEvBC,QAAAA,MAAM,EAAE,MAFe;AAGvBC,QAAAA,IAAI,EAAEP;AAHiB,OAAD,CAA1B;AAMAE,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBC,MAAtB;AACAH,MAAAA,QAAQ,CAAC;AACLO,QAAAA,IAAI,EAAE,4BADD;AAELC,QAAAA,WAAW,EAAEL,MAAM,CAACG,IAAP,CAAYG;AAFpB,OAAD,CAAR;AAKAC,MAAAA,YAAY,CAACC,OAAb,CAAqBd,UAArB,EAAiCe,IAAI,CAACC,SAAL,CAAeV,MAAM,CAACG,IAAtB,CAAjC;AACAI,MAAAA,YAAY,CAACC,OAAb,CAAqBG,WAArB,EAAkCX,MAAM,CAACG,IAAzC;AAEAS,MAAAA,KAAK,CAAC,sBAAD,CAAL;AACAnB,MAAAA,OAAO,CAACoB,IAAR,CAAa,OAAb;AAEH,KApBD,CAoBE,OAAOC,MAAP,EAAe;AAAA;;AAEbhB,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,sBAAsBe,MAAM,CAACC,QAA7B,qDAAsB,iBAAiBZ,IAAvC,EAFa,CAGb;AACH;AACJ,GA1BD;AA2BH,CA5BM;AA8BP,OAAO,MAAMa,KAAK,GAAIC,aAAD,IAAmB;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAAO,MAAMpB,QAAN,IAAkB,MAAM;AAG3B,QAAI;AACA,UAAIG,MAAM,GAAGR,KAAK,CAAC;AACfS,QAAAA,GAAG,EAAE,0DADU;AAEfC,QAAAA,MAAM,EAAE,MAFO;AAGfC,QAAAA,IAAI,EAAEc,aAHS;AAIfC,QAAAA,OAAO,EAAE;AAAE,2BAAiB,WAAWX,YAAY,CAACY,OAAb,CAAqBR,WAArB;AAA9B;AAJM,OAAD,CAAlB;AAOAb,MAAAA,OAAO,CAACC,GAAR,CAAYC,MAAM,CAACG,IAAnB;AACH,KATD,CASE,OAAOW,MAAP,EAAe,CAEhB;AACJ,GAfD;AAiBH,CA9BM","sourcesContent":["import axios from \"axios\";\nimport { history } from \"../../App\";\nimport { USER_LOGIN } from \"../../util/setting\";\n\n\n\nexport const dangNhapAction = (userLogin) => {//{taiKhoan:'',matKhau:''}\n    return async (dispatch) => {\n        try {\n            console.log(userLogin);\n            const result = await axios({\n                url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/DangNhap',\n                method: 'POST',\n                data: userLogin,\n            });\n\n            console.log('result', result);\n            dispatch({\n                type: 'XU_LY_DANG_NHAP_THANH_CONG',\n                tenDangNhap: result.data.taiKhoan\n            })\n\n            localStorage.setItem(USER_LOGIN, JSON.stringify(result.data));\n            localStorage.setItem(ACCESSTOKEN, result.data);\n\n            alert(\"đăng nhập thành công\");\n            history.push(\"/home\")\n\n        } catch (errors) {\n\n            console.log('errors', errors.response?.data);\n            //?: optional chaining\n        }\n    }\n}\n\nexport const datVe = (thongTinDatVe) => {\n\n    // {\n    //     \"maLichChieu\": 0,\n    //     \"danhSachVe\": [\n    //       {\n    //         \"maGhe\": 0,\n    //         \"giaVe\": 0\n    //       }\n    //     ],\n    //     \"taiKhoanNguoiDung\": \"string\"\n    //   }\n\n    return async dispatch => () => {\n\n\n        try {\n            let result = axios({\n                url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/DatVe',\n                method: 'post',\n                data: thongTinDatVe,\n                headers: { 'Authorazition': 'Bearer' + localStorage.getItem(ACCESSTOKEN) }\n            });\n\n            console.log(result.data);\n        } catch (errors) {\n\n        }\n    }\n\n}"]},"metadata":{},"sourceType":"module"}